<?xml version="1.0"
encoding="UTF-8"?>
<aiml version="2.0">


<category>
<pattern>nivel 2</pattern>
<template>
	<think>
		<set name="topic">nivel_2</set>

		<set name="lista_frutas_totales"><readset>lista_frutas</readset></set>

		<set name="lista_frutas_mod"><readset>lista_frutas</readset></set>

	</think>

	Se comenzará a jugar a 'Adivina la fruta (lvl 2)' introduce -> comenzar
	Sus respuestas deben ser del tipo: si / no

</template>
</category>

<topic name="nivel_2">

<category>
<pattern>^ [comenza+ comienz+] ^</pattern>
<template>
	Es pequeño/a
</template>
</category>

<category>
<pattern>si</pattern>
<that>ES PEQUEÑO/A</that>
<template>

	<think>
		<set var="atributo">pequeño</set>

		<set name="item">
				<srai> ITERATE <get name="lista_frutas_mod"/> </srai>
		</set>
	</think>

	<condition name="item">
		<li value="end"></li>
		<li>
			<think>
				<set var="fruta_inspeccionada"><readset><lowercase><get name="item"/></lowercase></readset></set>
			</think>
				<set var="existe">
					<srai>FINDITEM <get var="atributo"/> IN <get var="fruta_inspeccionada"/></srai>
				</set>
			
			<condition var="existe">
				<li value="0"><!--Comprobar si elimina-->
					<think>
						<set var="numero_elimina">
							<srai>FINDITEM <get name="item"/> IN <get name="lista_frutas_mod"/></srai>
						</set>

						<srai>REMOVEITEM <get var="numero_elimina"/> IN <get name="lista_frutas_mod"/></srai>
					</think>
				</li>
				<li></li>
			</condition>
			<think>
				<set name="item">
					<srai>NEXT</srai>
				</set>
			</think>
		<loop/><!--Mirar loop-->
		</li>
	</condition>

</template>
</category>

</topic>
</aiml>